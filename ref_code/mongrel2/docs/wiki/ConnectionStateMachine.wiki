This is the connection state machine used in Mongrel2, mostly just here for
documentation than anything.

This will be explained more later.
